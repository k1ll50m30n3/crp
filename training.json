{
  "title" : "тренировочная платформа Cyber Range",
  "description" : "Демо-версия содержит все типы уровней для демонстрации тренировочных возможностей платформы Cyber Range.",
  "prerequisites" : [ ],
  "outcomes" : [ "Сканирование портов с помощью nmap", "Подбор пароля с помощью гидры (hydra) по телнету", "Повышение привилегий с использованием неправильно настроенного sudo" ],
  "state" : "UNRELEASED",
  "show_stepper_bar" : true,
  "levels" : [ {
    "title" : "Информация",
    "level_type" : "INFO_LEVEL",
    "order" : 0,
    "estimated_duration" : 0,
    "minimal_possible_solve_time" : null,
    "content" : "# Резюме демо\n\nДемо-версия содержит все типы уровней для демонстрации тренировочных возможностей платформы Cyber Range.\n"
  }, {
    "title" : "Получить доступ",
    "level_type" : "ACCESS_LEVEL",
    "order" : 1,
    "estimated_duration" : 0,
    "minimal_possible_solve_time" : null,
    "passkey" : "start",
    "cloud_content" : "Ваша первая задача — получить доступ к песочнице, где вы выполните все последующие задачи. После успешного подключения отправьте ответ **`start`**.\n\n### Доступ к песочнице (Sandbox access)\n1.В обзоре топологии справа щелкните правой кнопкой мыши **`client`**, а затем выберите **`Open console`**, и появится новое всплывающее окно. \n2. Войдите с именем пользователя **`user`** и паролем **`Password123`**.\n\nАльтернативно вы можете использовать SSH для подключения к машине. Доступ по SSH упрощает копирование и вставку команд и флагов."
  }, {
    "title" : "Найдите открытые порты",
    "level_type" : "TRAINING_LEVEL",
    "order" : 2,
    "estimated_duration" : 10,
    "minimal_possible_solve_time" : 1,
    "answer" : null,
    "answer_variable_name" : "telnet_port",
    "content" : "Ваша цель — получить доступ к **серверу**. Вы знаете, что на сервере работает служба **telnet**, но она не работает на порту по умолчанию. Ваша первая задача — найти **порт**, на котором работает служба telnet. Ответ — номер порта.\n",
    "solution" : "1. Найдите открытые порты с помощью команды **`nmap -p- 192.168.20.5`**. Вы можете увидеть **ssh**, работающий на порту **22**, и некоторые другие службы, работающие на порту **${ANSWER}**. Это должна быть служба **telnet**.\n\n2. Введите **`${ANSWER}`** в качестве ответа.",
    "solution_penalized" : true,
    "hints" : [ {
      "title" : "Инструмент для поиска открытых портов",
      "content" : "Распространенным инструментом для поиска открытых портов является **nmap**. Вы можете узнать, как использовать nmap, используя **`nmap --help`** или выполнив поиск в Интернете.",
      "hint_penalty" : 20,
      "order" : 0
    } ],
    "incorrect_answer_limit" : 10,
    "attachments" : [ ],
    "max_score" : 50,
    "variant_answers" : true,
    "reference_solution" : [ ],
    "mitre_techniques" : [ {
      "technique_key" : "TA0007.T1046"
    }, {
      "technique_key" : "TA0043.T1595"
    } ],
    "expected_commands" : [ "ls", "nmap" ],
    "commands_required" : true
  }, {
    "title" : "Подключение через Telnet",
    "level_type" : "TRAINING_LEVEL",
    "order" : 3,
    "estimated_duration" : 10,
    "minimal_possible_solve_time" : 1,
    "answer" : null,
    "answer_variable_name" : "alice_flag",
    "content" : "Теперь у вас есть номер порта и вы хотите подключиться, но у вас нет учетных данных. К счастью, вы знаете, что у пользователя **`alice`** слабый пароль. Возможно, вы сможете это догадаться. Ответ находится в домашнем каталоге Алисы. Для вашего удобства в вашем домашнем каталоге размещен список общих паролей.\n\n",
    "solution" : "Замените **${telnet_port}** номером порта предыдущего уровня:\n\n1. Вы знаете, что у **алисы** слабый пароль, поэтому вы можете попробовать атаку по словарю. Список общих паролей готов в вашем домашнем каталоге. Одним из возможных инструментов для взлома пароля является **hydra**. Команда для поиска пароля: **`hydra -l alice -P passlist.txt telnet://192.168.20.5:${telnet_port}`**. Это покажет пароль Алисы **`bacon`**.\n\n2. Теперь вы можете подключиться к серверу, используя **`telnet 192.168.20.5 ${telnet_port}`**, введя имя пользователя **`alice`** и ее пароль **`bacon`**.\n\n3. Чтобы прочитать ответ, вы можете использовать **`cat flag.txt`**. Ответ: **`${ANSWER}`**\n",
    "solution_penalized" : true,
    "hints" : [ {
      "title" : "Подключение через телнет",
      "content" : "Команда для подключения с помощью telnet: **`telnet <host> <port>`**, поэтому в нашем случае **`telnet 192.168.20.5 ${telnet_port}`**. Вам будет предложено ввести имя пользователя и пароль.",
      "hint_penalty" : 10,
      "order" : 1
    }, {
      "title" : "Инструмент для атаки паролей",
      "content" : "Распространенными инструментами для взлома паролей являются **hydra** и **medusa**. Обратитесь к их справочным командам или страницам руководства, чтобы найти подходящие варианты для проведения атаки. Вы можете использовать список общих паролей, хранящийся в вашем домашнем каталоге. Используйте **`ls`** для вывода списка файлов.",
      "hint_penalty" : 20,
      "order" : 0
    } ],
    "incorrect_answer_limit" : 10,
    "attachments" : [ ],
    "max_score" : 100,
    "variant_answers" : true,
    "reference_solution" : [ ],
    "mitre_techniques" : [ {
      "technique_key" : "TA0006.T1110"
    } ],
    "expected_commands" : [ "hydra", "telnet", "cat" ],
    "commands_required" : true
  }, {
    "title" : "Повышение привилегий",
    "level_type" : "TRAINING_LEVEL",
    "order" : 4,
    "estimated_duration" : 15,
    "minimal_possible_solve_time" : 1,
    "answer" : null,
    "answer_variable_name" : "root_flag",
    "content" : "Отлично, вам удалось войти на сервер под именем **алиса**, но под именем **алиса** вы мало что можете сделать. Сможете ли вы найти способ стать **root**? Ответ находится в корневом каталоге.\n\nОдин из распространенных векторов атак с целью повышения привилегий неправильно настроен **sudo**. Чтобы узнать, для чего вы можете использовать sudo, используйте команду **`sudo --list`**.\n",
    "solution" : "1. Вы можете видеть, что единственная команда, которую вы можете использовать sudo, — это **`less /home/alice/flag.txt`**. В флаге особо нечего увидеть, но вы можете запустить это как **root**. Есть ли способ получить оболочку?\n\n2. Да, все, что вам нужно сделать, это ввести **`!sh`** при запуске **`sudo less /home /alice/flag.txt`**, чтобы получить корневую оболочку.\n\n3. Чтобы получить ответ, используйте **`cd`** для входа в корневой каталог и **`cat flag.txt`** для входа в корневой каталог. прочитайте ответ. Ответ: **`${ANSWER}`**",
    "solution_penalized" : true,
    "hints" : [ {
      "title" : "Использование повышения привилегий",
      "content" : "Вы, вероятно, уже поняли, что можете запустить **sudo** по определенной команде **less**. Чтобы запустить оболочку **`sudo less /home/alice/flag.txt`**, введите пароль. Введите **`!sh`**, чтобы получить корневую оболочку.",
      "hint_penalty" : 60,
      "order" : 0
    } ],
    "incorrect_answer_limit" : 10,
    "attachments" : [ ],
    "max_score" : 100,
    "variant_answers" : true,
    "reference_solution" : [ ],
    "mitre_techniques" : [ {
      "technique_key" : "TA0004.T1068"
    }, {
      "technique_key" : "TA0043.T1592"
    } ],
    "expected_commands" : [ "cat", "ls", "sudo" ],
    "commands_required" : true
  }],
  "estimated_duration" : 45,
  "variant_sandboxes" : false
}
